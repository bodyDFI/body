# bodyDFI - Blockchain Fitness Data Platform

<div align="center">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="500" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="500" preserveAspectRatio="xMidYMid meet" version="1.0">
  <!-- Removed background rect -->
  <defs>
	<clipPath id="3b3f748741">
	  <path d="M 139 16.546875 L 223 16.546875 L 223 358.546875 L 139 358.546875 Z M 139 16.546875 " clip-rule="nonzero"/>
	</clipPath>
	<clipPath id="9dfe89d278">
	  <path d="M 73.53125 80 L 166 80 L 166 309 L 73.53125 309 Z M 73.53125 80 " clip-rule="nonzero"/>
	</clipPath>
	<clipPath id="59e4479049">
	  <path d="M 189 77 L 301.53125 77 L 301.53125 321 L 189 321 Z M 189 77 " clip-rule="nonzero"/>
	</clipPath>
  </defs>
  <g clip-path="url(#3b3f748741)">
	<path fill="#00afef" d="M 215.300781 16.796875 C 220.097656 17.957031 223.039062 22.777344 221.851562 27.574219 C 220.691406 32.371094 215.84375 35.289062 211.070312 34.128906 C 206.273438 32.964844 203.359375 28.144531 204.519531 23.347656 C 205.683594 18.550781 210.527344 15.632812 215.300781 16.796875 Z M 150.074219 340.839844 C 154.871094 342 157.789062 346.847656 156.628906 351.617188 C 155.464844 356.414062 150.644531 359.332031 145.847656 358.171875 C 141.050781 357.007812 138.132812 352.1875 139.296875 347.390625 C 140.457031 342.59375 145.277344 339.652344 150.074219 340.839844 Z M 173.515625 310.75 C 179.695312 312.257812 183.503906 318.488281 181.996094 324.691406 C 180.488281 330.875 174.257812 334.683594 168.050781 333.171875 C 161.871094 331.664062 158.0625 325.433594 159.570312 319.230469 C 161.078125 313.046875 167.308594 309.238281 173.515625 310.75 Z M 187.484375 270.472656 C 195.496094 272.425781 200.390625 280.484375 198.4375 288.496094 C 196.484375 296.507812 188.425781 301.402344 180.414062 299.449219 C 172.402344 297.496094 167.507812 289.433594 169.460938 281.425781 C 171.414062 273.414062 179.472656 268.519531 187.484375 270.472656 Z M 191.835938 221.269531 C 202.171875 223.789062 208.523438 234.199219 206.003906 244.558594 C 203.480469 254.894531 193.070312 261.25 182.710938 258.726562 C 172.378906 256.207031 166.023438 245.796875 168.546875 235.4375 C 171.066406 225.101562 181.476562 218.746094 191.835938 221.269531 Z M 193.839844 162.375 C 207.214844 165.636719 215.398438 179.113281 212.136719 192.464844 C 208.871094 205.839844 195.394531 214.023438 182.042969 210.761719 C 168.667969 207.496094 160.484375 194.023438 163.75 180.671875 C 167.011719 167.292969 180.488281 159.109375 193.839844 162.375 Z M 185.210938 112.777344 C 195.542969 115.296875 201.898438 125.707031 199.375 136.066406 C 196.855469 146.402344 186.445312 152.757812 176.085938 150.234375 C 165.75 147.710938 159.398438 137.304688 161.917969 126.945312 C 164.441406 116.609375 174.851562 110.253906 185.210938 112.777344 Z M 187.113281 73.585938 C 195.125 75.542969 200.019531 83.601562 198.066406 91.613281 C 196.113281 99.625 188.054688 104.519531 180.042969 102.566406 C 172.03125 100.613281 167.136719 92.550781 169.089844 84.539062 C 171.042969 76.53125 179.101562 71.632812 187.113281 73.585938 Z M 200.191406 40.457031 C 206.375 41.964844 210.183594 48.195312 208.671875 54.402344 C 207.164062 60.582031 200.933594 64.390625 194.730469 62.882812 C 188.546875 61.375 184.738281 55.144531 186.246094 48.9375 C 187.757812 42.757812 193.988281 38.949219 200.191406 40.457031 Z M 200.191406 40.457031 " fill-opacity="1" fill-rule="evenodd"/>
  </g>
  <g clip-path="url(#9dfe89d278)">
	<path fill="#000000" d="M 154.453125 99.253906 C 154.945312 97.769531 155.492188 96.285156 156.058594 94.828125 L 155.21875 94.554688 L 161.175781 83.503906 L 162.488281 80.855469 C 154.179688 85.085938 144.066406 91.042969 130.742188 98.734375 C 71.722656 132.804688 73.972656 128.921875 73.972656 197.089844 C 73.972656 265.253906 71.722656 261.347656 130.742188 295.445312 C 139.46875 300.488281 146.789062 304.765625 153.140625 308.324219 C 154.773438 305.285156 156.332031 302.242188 157.816406 299.128906 L 158.753906 297.199219 C 151.410156 293.121094 144.117188 288.742188 136.996094 284.613281 C 130.964844 281.128906 124.683594 277.640625 118.527344 274.03125 L 135.5625 274.03125 C 137.441406 280.066406 143.078125 284.417969 149.730469 284.417969 C 157.914062 284.417969 164.5625 277.765625 164.5625 269.582031 C 164.5625 261.398438 157.914062 254.746094 149.730469 254.746094 C 143.078125 254.746094 137.464844 259.121094 135.5625 265.128906 L 104.261719 265.128906 L 103.964844 264.933594 C 99.289062 261.769531 93.902344 257.761719 91.007812 252.792969 C 88.683594 248.789062 87.746094 243.644531 87.25 238.847656 L 136.898438 238.847656 C 138.777344 244.882812 144.414062 249.234375 151.066406 249.234375 C 159.25 249.234375 165.898438 242.582031 165.898438 234.398438 C 165.898438 226.214844 159.25 219.5625 151.066406 219.5625 C 144.414062 219.5625 138.800781 223.9375 136.898438 229.949219 L 86.632812 229.949219 C 86.234375 221.269531 86.335938 212.394531 86.382812 203.664062 L 124.683594 203.664062 C 126.5625 209.699219 132.199219 214.050781 138.851562 214.050781 C 147.035156 214.050781 153.683594 207.398438 153.683594 199.214844 C 153.683594 191.03125 147.035156 184.378906 138.851562 184.378906 C 132.199219 184.378906 126.585938 188.757812 124.683594 194.765625 L 86.410156 194.765625 C 86.359375 182.847656 86.089844 170.460938 86.953125 158.640625 C 87.375 153.027344 88.117188 146.328125 90.984375 141.359375 C 93.851562 136.390625 99.265625 132.382812 103.9375 129.21875 C 114.375 122.148438 126.019531 115.84375 136.945312 109.539062 C 142.289062 106.472656 147.703125 103.234375 153.167969 100.09375 L 153.390625 98.882812 L 154.453125 99.226562 Z M 143.300781 269.554688 C 143.300781 266.019531 146.167969 263.152344 149.703125 263.152344 C 153.242188 263.152344 156.109375 266.019531 156.109375 269.554688 C 156.109375 273.09375 153.242188 275.960938 149.703125 275.960938 C 146.167969 275.960938 143.300781 273.09375 143.300781 269.554688 Z M 144.6875 234.398438 C 144.6875 230.863281 147.554688 227.996094 151.089844 227.996094 C 154.625 227.996094 157.492188 230.863281 157.492188 234.398438 C 157.492188 237.933594 154.625 240.800781 151.089844 240.800781 C 147.554688 240.800781 144.6875 237.933594 144.6875 234.398438 Z M 132.496094 199.238281 C 132.496094 195.703125 135.363281 192.835938 138.898438 192.835938 C 142.4375 192.835938 145.304688 195.703125 145.304688 199.238281 C 145.304688 202.773438 142.4375 205.644531 138.898438 205.644531 C 135.363281 205.644531 132.496094 202.773438 132.496094 199.238281 Z M 132.496094 199.238281 " fill-opacity="1" fill-rule="evenodd"/>
  </g>
  <g clip-path="url(#59e4479049)">
	<path fill="#000000" d="M 204.46875 90.820312 C 215.820312 96.308594 227.09375 103.257812 238.023438 109.5625 C 246.429688 114.410156 255.230469 119.230469 263.585938 124.421875 L 234.609375 124.421875 C 232.730469 118.390625 227.09375 114.039062 220.441406 114.039062 C 212.257812 114.039062 205.609375 120.6875 205.609375 128.871094 C 205.609375 137.054688 212.257812 143.707031 220.441406 143.707031 C 227.09375 143.707031 232.707031 139.332031 234.609375 133.324219 L 276.617188 133.324219 C 279.511719 135.671875 282.203125 138.34375 283.960938 141.382812 C 286.828125 146.351562 287.59375 153.054688 287.992188 158.664062 L 288.066406 159.605469 L 245.488281 159.605469 C 243.609375 153.574219 237.972656 149.222656 231.320312 149.222656 C 223.136719 149.222656 216.488281 155.871094 216.488281 164.054688 C 216.488281 172.238281 223.136719 178.890625 231.320312 178.890625 C 237.972656 178.890625 243.585938 174.515625 245.488281 168.507812 L 288.484375 168.507812 C 288.730469 177.234375 288.582031 186.136719 288.558594 194.789062 L 260.519531 194.789062 C 258.640625 188.757812 253.003906 184.40625 246.355469 184.40625 C 238.171875 184.40625 231.519531 191.054688 231.519531 199.238281 C 231.519531 207.421875 238.171875 214.074219 246.355469 214.074219 C 253.003906 214.074219 258.617188 209.699219 260.519531 203.691406 L 288.582031 203.691406 C 288.65625 214.273438 288.78125 225.125 288.015625 235.511719 C 287.59375 241.125 286.851562 247.824219 283.984375 252.792969 C 281.117188 257.761719 275.703125 261.769531 271.03125 264.933594 C 260.59375 272.003906 248.949219 278.308594 238.023438 284.613281 C 227.292969 290.820312 216.214844 297.621094 205.089844 303.058594 C 205.039062 303.132812 204.988281 303.183594 204.941406 303.257812 L 205.707031 303.503906 L 194.332031 315.59375 L 190.796875 319.527344 L 190.671875 319.476562 C 190.203125 319.96875 189.734375 320.441406 189.265625 320.933594 C 202.34375 320.242188 216.042969 311.738281 244.300781 295.417969 C 303.320312 261.347656 301.070312 265.230469 301.070312 197.0625 C 301.070312 128.898438 303.320312 132.804688 244.300781 98.707031 C 226.945312 88.671875 215.078125 81.597656 205.460938 77.46875 C 204.71875 81.746094 204.125 86.074219 203.703125 90.402344 C 203.976562 90.523438 204.246094 90.648438 204.496094 90.796875 Z M 237.75 164.054688 C 237.75 167.589844 234.882812 170.460938 231.347656 170.460938 C 227.808594 170.460938 224.941406 167.589844 224.941406 164.054688 C 224.941406 160.519531 227.808594 157.652344 231.347656 157.652344 C 234.882812 157.652344 237.75 160.519531 237.75 164.054688 Z M 252.757812 199.214844 C 252.757812 202.75 249.890625 205.617188 246.355469 205.617188 C 242.820312 205.617188 239.949219 202.75 239.949219 199.214844 C 239.949219 195.679688 242.820312 192.8125 246.355469 192.8125 C 249.890625 192.8125 252.757812 195.679688 252.757812 199.214844 Z M 226.871094 128.871094 C 226.871094 132.40625 224.003906 135.277344 220.46875 135.277344 C 216.929688 135.277344 214.0625 132.40625 214.0625 128.871094 C 214.0625 125.335938 216.929688 122.46875 220.46875 122.46875 C 224.003906 122.46875 226.871094 125.335938 226.871094 128.871094 Z M 226.871094 128.871094 " fill-opacity="1" fill-rule="evenodd"/>
  </g>
</svg>

  [![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)
  [![Website](https://img.shields.io/badge/Website-bodydfi.com-blue)](https://bodydfi.com)
  [![Twitter](https://img.shields.io/badge/Twitter-@bodydfi-blue)](https://x.com/bodydfi)
</div>

bodyDFI is a blockchain-powered platform that revolutionizes how fitness and health data is collected, analyzed, and monetized. It combines wearable sensor technology, mobile applications, and Solana blockchain to create a secure, transparent, and incentivized ecosystem for fitness data.

## Project Overview

bodyDFI connects users, developers, fitness professionals, and researchers through a token-based economic model that rewards data contributions and ensures privacy controls.

### Key Features

- **Hardware Sensors**: Custom fitness sensors for collecting motion and biometric data
- **Mobile Application**: User-friendly interface for data visualization and device management
- **Data Marketplace**: Platform for sharing and monetizing fitness data
- **Blockchain Integration**: Solana-based token rewards and transaction verification
- **Privacy Controls**: Granular user control over data sharing and anonymization
- **Token Economy**: Reward system for data contributions and platform participation
- **Internationalization**: Multi-language support throughout the platform
- **Comprehensive Testing**: Automated unit and integration tests

## Architecture

bodyDFI follows a comprehensive architecture divided into several components:

### System Components

![bodyDFI Architecture](docs/architecture/architecture-diagram.png)

#### Hardware Layer

- **Sensors**: Multiple sensor types (consumer, professional, medical) with various capabilities
- **Firmware**: ESP32-based firmware for data collection and transmission
- **Connectivity**: BLE for device communication

#### Application Layer

- **Mobile App**: React Native application for user interaction
- **Web Dashboard**: React-based web interface for advanced analytics
- **Backend Services**: Node.js/Express services handling business logic

#### Blockchain Layer

- **Solana Program**: Custom on-chain program for token management and data verification
- **Token Economy**: BDFI tokens for incentivizing participation and data contributions
- **Smart Contracts**: Automated data marketplace and rewards distribution

### Data Flow

1. **Collection**: Sensors collect motion and biometric data
2. **Transmission**: Data is securely transferred to mobile application via BLE
3. **Processing**: Backend services process and analyze raw data
4. **Storage**: Processed data is stored in MongoDB with privacy controls
5. **Marketplace**: Data can be shared or sold through the marketplace
6. **Verification**: Blockchain verifies transactions and issues token rewards

## Technology Stack

### Frontend
- React (Web Dashboard)
- React Native (Mobile Application)
- Redux (State Management)
- TailwindCSS (Styling)

### Backend
- Node.js
- Express
- MongoDB
- Redis (Caching)
- Socket.IO (Real-time Communication)
- Winston (Logging)
- i18next (Internationalization)

### Testing & Documentation
- Jest (Testing Framework)
- Supertest (API Testing)
- Swagger/OpenAPI (API Documentation)

### Monitoring & Performance
- Prometheus (Metrics Collection)
- Prom-client (Node.js Prometheus Integration)

### Security
- Helmet (HTTP Headers Security)
- XSS-Clean (XSS Protection)
- HPP (HTTP Parameter Pollution Protection)
- Express Rate Limit (Rate Limiting)

### Blockchain
- Solana (Main Blockchain)
- Anchor Framework (Solana Program Development)
- SPL Tokens (Token Standard)

### DevOps
- Docker (Containerization)
- GitHub Actions (CI/CD)
- PM2 (Process Management)
- Nginx (Reverse Proxy)

## Key Components

### Hardware Sensors

bodyDFI offers three tiers of sensors:
- **bodyDFI Sensor™** (Consumer): Basic motion tracking for everyday users
- **bodyDFI Pro™** (Professional): Advanced sensors for fitness professionals
- **bodyDFI Medical™** (Medical): Medical-grade sensors with certification

Each device includes an ESP32 microcontroller, motion sensors (MPU-6050), and optional biometric sensors depending on the model.

### Mobile Application

The React Native mobile app provides:
- Real-time data visualization
- Workout tracking and analysis
- Device connection and management
- Data marketplace access
- Wallet and token management

### Data Marketplace

The marketplace enables:
- Listing data for sharing/selling
- Purchasing access to datasets
- Setting price, duration, and access controls
- Rating and reviewing data providers
- Automated token transactions

### Token Economy

The token system includes:
- Rewards for data contributions
- Incentives for regular activity
- Marketplace transaction facilitation
- Staking mechanisms for platform governance
- Revenue sharing for data providers

## Security and Privacy

bodyDFI prioritizes user data protection:
- End-to-end encryption for sensitive data
- Granular privacy controls per data type
- Data anonymization options
- GDPR-compliant data handling
- Authorized device management
- Comprehensive access logging
- Rate limiting and brute force protection
- Security headers implementation
- XSS and parameter pollution protection

## Quality Assurance

bodyDFI maintains high quality through:
- **Automated Testing**: Comprehensive unit and integration tests
- **API Documentation**: Auto-generated Swagger documentation
- **Performance Monitoring**: Real-time metrics with Prometheus
- **Standardized Response Format**: Consistent API responses
- **Error Handling**: Centralized error management
- **Input Validation**: Schema-based request validation

## Internationalization

The platform supports multiple languages:
- English (Default)
- Chinese
- Spanish
- French
- Easy addition of new languages

## Getting Started

### Prerequisites

- Node.js (v16+)
- MongoDB (v5+)
- Redis (v6+)
- Docker and Docker Compose
- Solana CLI tools

### Installation

1. Clone the repository
```bash
git clone https://github.com/bodyDFI/body.git
cd body
```

2. Install dependencies
```bash
# Install backend dependencies
cd backend
npm install

# Install frontend dependencies
cd ../frontend
npm install

# Install mobile app dependencies
cd ../mobile
npm install
```

3. Configure environment variables
```bash
# Copy example environment files
cp backend/.env.example backend/.env
cp frontend/.env.example frontend/.env
cp mobile/.env.example mobile/.env
```

4. Start the development servers
```bash
# Start backend
cd backend
npm run dev

# Start frontend
cd ../frontend
npm start

# Start mobile app
cd ../mobile
npm start
```

### Running Tests

```bash
# Run all tests
npm test

# Run unit tests only
npm run test:unit

# Run integration tests only
npm run test:integration

# Generate test coverage report
npm run test:coverage
```

### API Documentation

API documentation is available when running the development server:
- Swagger UI: http://localhost:3000/api-docs

### Deployment

For production deployment, use Docker:

```bash
# Build and start containers
docker-compose up -d
```

## Project Structure

```
body/
├── backend/                    # Backend application
│   ├── src/
│   │   ├── config/             # Configuration files
│   │   ├── locales/            # Internationalization files
│   │   ├── middleware/         # Middleware components
│   │   │   ├── auth/           # Authentication middleware
│   │   │   ├── validation/     # Request validation middleware
│   │   │   └── error/          # Error handling middleware
│   │   ├── models/             # Database models
│   │   ├── routes/             # API routes
│   │   ├── services/           # Business logic
│   │   ├── utils/              # Utility functions
│   │   │   ├── apiResponse.js  # Standardized API responses
│   │   │   ├── encryption.js   # Encryption utilities
│   │   │   ├── i18n.js         # Internationalization setup
│   │   │   ├── logger.js       # Logging utilities
│   │   │   ├── monitor.js      # Performance monitoring
│   │   │   ├── security.js     # Security utilities
│   │   │   ├── swagger.js      # API documentation
│   │   │   └── validators.js   # Input validators
│   │   ├── blockchain/         # Blockchain interactions
│   │   ├── workers/            # Background workers
│   │   ├── cron/               # Scheduled tasks
│   │   ├── app.js              # Express application setup
│   │   └── server.js           # Server entry point
│   ├── tests/                  # Test files
│   │   ├── unit/               # Unit tests
│   │   ├── integration/        # Integration tests
│   │   └── setup.js            # Test configuration
│   └── package.json            # Dependencies
├── frontend/                   # Web application
│   ├── src/
│   │   ├── components/         # React components
│   │   ├── contexts/           # React contexts
│   │   ├── hooks/              # Custom React hooks
│   │   ├── pages/              # Page components
│   │   ├── services/           # API service calls
│   │   ├── utils/              # Utility functions
│   │   ├── i18n/               # Internationalization
│   │   ├── constants.js        # Application constants
│   │   └── App.js              # Main app component
│   ├── public/                 # Static assets
│   └── package.json            # Dependencies
├── mobile/                     # Mobile application
│   ├── src/                    # Source code
│   ├── assets/                 # Assets and resources
│   └── package.json            # Dependencies
├── hardware/                   # Hardware resources
│   ├── firmware/               # Sensor firmware
│   ├── schematics/             # Hardware design files
│   └── prototypes/             # Prototype documentation
├── smart-contracts/            # Solana program code
│   ├── programs/               # Solana programs
│   └── tests/                  # Program tests
├── docs/                       # Project documentation
│   ├── api/                    # API documentation
│   ├── architecture/           # Architecture diagrams
│   └── guides/                 # Developer guides
├── scripts/                    # Utility scripts
├── .github/                    # GitHub configuration
│   └── workflows/              # CI/CD workflows
├── docker/                     # Docker configuration
│   ├── backend/                # Backend Docker setup
│   ├── frontend/               # Frontend Docker setup
│   └── nginx/                  # NGINX configuration
├── Dockerfile                  # Main Dockerfile
├── docker-compose.yml          # Docker Compose file
├── ecosystem.config.js         # PM2 configuration
├── .env.example                # Environment variables example
└── README.md                   # Project documentation
```

## Contributing

Please read [CONTRIBUTING.md](CONTRIBUTING.md) for details on our code of conduct and the process for submitting pull requests.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments

- Special thanks to all contributors
- Built with Solana blockchain technology
- Inspired by the need for secure, user-controlled fitness data
